<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Add Logging To Functions • chronicler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Add Logging To Functions">
<meta name="description" content="Decorate functions to make them return enhanced output. The enhanced output consists in an object of type chronicle containing the result of the function applied to its arguments, as well as a log detailing when the function was run, what were its inputs, what were the errors (if the function failed to run) and other useful information. Tools to handle decorated functions are included, such as a forward pipe operator that makes chaining decorated functions possible.">
<meta property="og:description" content="Decorate functions to make them return enhanced output. The enhanced output consists in an object of type chronicle containing the result of the function applied to its arguments, as well as a log detailing when the function was run, what were its inputs, what were the errors (if the function failed to run) and other useful information. Tools to handle decorated functions are included, such as a forward pipe operator that makes chaining decorated functions possible.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">chronicler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/a-non-mathematician-s-introduction-to-monads.html">A non-mathematician's introduction to monads</a></li>
    <li><a class="dropdown-item" href="articles/a-real-world-example.html">A real world example</a></li>
    <li><a class="dropdown-item" href="articles/recording-ggplot.html">Recording ggplot Objects with chronicler</a></li>
    <li><a class="dropdown-item" href="articles/the-maybe-monad.html">The Maybe monad</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="chronicler-">chronicler <img src="reference/figures/hex.png" align="right" style="width: 25%;"><a class="anchor" aria-label="anchor" href="#chronicler-"></a>
</h1></div>
<!-- badges: start -->

<p>Easily add logs to your functions, without interfering with the global environment.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is available on <a href="https://cran.r-project.org/web/packages/chronicler/" class="external-link">CRAN</a>. Install it with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"chronicler"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"b-rodrigues/chronicler"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>{chronicler}</code> provides the <code><a href="reference/record.html">record()</a></code> function, which allows you to modify functions so that they provide enhanced output. This enhanced output consists in a detailed log, and by chaining decorated functions, it becomes possible to have a complete trace of the operations that led to the final output. These decorated functions work exactly the same as their undecorated counterparts, but some care is required for correctly handling them. This introduction will give you a quick overview of this package’s functionality.</p>
<p>Let’s first start with a simple example, by decorating the <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">chronicler</span><span class="op">)</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">r_sqrt</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>Object <code>a</code> is now an object of class <code>chronicle</code>. Let’s take a closer look at <code>a</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span></span>
<span><span class="co">#&gt; OK! Value computed successfully:</span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; Just</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.414214 1.732051 2.000000 2.236068</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; This is an object of type `chronicle`.</span></span>
<span><span class="co">#&gt; Retrieve the value of this object with unveil(.c, "value").</span></span>
<span><span class="co">#&gt; To read the log of this object, call read_log(.c).</span></span></code></pre></div>
<p><code>a</code> is now made up of several parts. The first part:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>OK<span class="sc">!</span> Value computed successfully<span class="sc">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="sc">---------------</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>Just</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">1.000000</span> <span class="fl">1.414214</span> <span class="fl">1.732051</span> <span class="fl">2.000000</span> <span class="fl">2.236068</span></span></code></pre></div>
<p>simply provides the result of <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> applied to <code>1:5</code> (let’s ignore the word <code>Just</code> on the third line for now; for more details see the <code>Maybe Monad</code> vignette). The second part tells you that there’s more to it:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="sc">---------------</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>This is an object of type <span class="st">`</span><span class="at">chronicle</span><span class="st">`</span>.</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>Retrieve the value of this object with <span class="fu">unveil</span>(.c, <span class="st">"value"</span>).</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>To read the log of this object, call <span class="fu">read_log</span>().</span></code></pre></div>
<p>The value of the <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> function applied to its arguments can be obtained using <code><a href="reference/unveil.html">unveil()</a></code>, as explained:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">a</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.414214 1.732051 2.000000 2.236068</span></span></code></pre></div>
<p>A log also gets generated and can be read using <code><a href="reference/read_log.html">read_log()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                               </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt(1:5) ran successfully at 2025-08-14 12:17:16.047942"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000145673751831055"</span></span></code></pre></div>
<p>This is especially useful for objects that get created using multiple calls:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span><span class="va">r_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">exp</span><span class="op">)</span></span>
<span><span class="va">r_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span></span>
<span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">r_sqrt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_exp</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_mean</span><span class="op">)</span></span></code></pre></div>
<p>(<code><a href="reference/bind_record.html">bind_record()</a></code> is used to chain multiple decorated functions and will be explained in detail in the next section.)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                   </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt(1:10) ran successfully at 2025-08-14 12:17:16.070962"                                                   </span></span>
<span><span class="co">#&gt; [3] "OK! exp(maybe::from_maybe(.c$value, default = maybe::nothing())) ran successfully at 2025-08-14 12:17:16.07299"  </span></span>
<span><span class="co">#&gt; [4] "OK! mean(maybe::from_maybe(.c$value, default = maybe::nothing())) ran successfully at 2025-08-14 12:17:16.074803"</span></span>
<span><span class="co">#&gt; [5] "Total running time: 0.0001220703125"</span></span>
<span></span>
<span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">b</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 11.55345</span></span></code></pre></div>
<p><code><a href="reference/record.html">record()</a></code> works with any function, but not yet with <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</p>
<p>To avoid having to define every function individually, like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span><span class="va">r_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">exp</span><span class="op">)</span></span>
<span><span class="va">r_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span></span></code></pre></div>
<p>you can use the <code><a href="reference/record_many.html">record_many()</a></code> function. <code><a href="reference/record_many.html">record_many()</a></code> takes a list of functions (as strings) as an input and puts generated code in your system’s clipboard. You can then paste the code into your text editor. The gif below illustrates how <code><a href="reference/record_many.html">record_many()</a></code> works:</p>
<figure><img src="https://raw.githubusercontent.com/b-rodrigues/chronicler/master/data-raw/record_many.gif" alt="record_many() in action"><figcaption aria-hidden="true"><code><a href="reference/record_many.html">record_many()</a></code> in action
</figcaption></figure>
</div>
<div class="section level2">
<h2 id="chaining-decorated-functions">Chaining decorated functions<a class="anchor" aria-label="anchor" href="#chaining-decorated-functions"></a>
</h2>
<p><code><a href="reference/bind_record.html">bind_record()</a></code> is used to pass the output from one decorated function to the next:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_group_by</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_filter</span>, <span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_summarise</span>,</span>
<span>              mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>              <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                                 </span></span>
<span><span class="co">#&gt; [2] "OK! select(., height, mass, species, sex) ran successfully at 2025-08-14 12:17:16.095645"                                      </span></span>
<span><span class="co">#&gt; [3] "OK! group_by(maybe::from_maybe(.c$value, default = maybe::nothing()), ..1, ..2) ran successfully at 2025-08-14 12:17:16.099652"</span></span>
<span><span class="co">#&gt; [4] "OK! filter(maybe::from_maybe(.c$value, default = maybe::nothing()), ..1) ran successfully at 2025-08-14 12:17:16.103561"       </span></span>
<span><span class="co">#&gt; [5] "OK! summarise(maybe::from_maybe(.c$value, default = maybe::nothing()), ..1) ran successfully at 2025-08-14 12:17:16.107111"    </span></span>
<span><span class="co">#&gt; [6] "Total running time: 0.0095522403717041"</span></span></code></pre></div>
<p>The value can then be accessed and worked on as usual using <code><a href="reference/unveil.html">unveil()</a></code>, as explained above:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">output</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 3</span></span>
<span><span class="co">#&gt; # Groups:   species [9]</span></span>
<span><span class="co">#&gt;   species    sex              mass</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clawdite   female           55  </span></span>
<span><span class="co">#&gt; 2 Droid      none             69.8</span></span>
<span><span class="co">#&gt; 3 Human      female           56.3</span></span>
<span><span class="co">#&gt; 4 Hutt       hermaphroditic 1358  </span></span>
<span><span class="co">#&gt; 5 Kaminoan   female          NaN  </span></span>
<span><span class="co">#&gt; 6 Mirialan   female           53.1</span></span>
<span><span class="co">#&gt; 7 Tholothian female           50  </span></span>
<span><span class="co">#&gt; 8 Togruta    female           57  </span></span>
<span><span class="co">#&gt; 9 Twi'lek    female           55</span></span></code></pre></div>
<p>This package also ships with a dedicated pipe, <code>%&gt;=%</code> which you can use instead of <code><a href="reference/bind_record.html">bind_record()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mean_mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">output_pipe</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 3</span></span>
<span><span class="co">#&gt; # Groups:   species [9]</span></span>
<span><span class="co">#&gt;   species    sex            mean_mass</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clawdite   female              55  </span></span>
<span><span class="co">#&gt; 2 Droid      none                69.8</span></span>
<span><span class="co">#&gt; 3 Human      female              56.3</span></span>
<span><span class="co">#&gt; 4 Hutt       hermaphroditic    1358  </span></span>
<span><span class="co">#&gt; 5 Kaminoan   female             NaN  </span></span>
<span><span class="co">#&gt; 6 Mirialan   female              53.1</span></span>
<span><span class="co">#&gt; 7 Tholothian female              50  </span></span>
<span><span class="co">#&gt; 8 Togruta    female              57  </span></span>
<span><span class="co">#&gt; 9 Twi'lek    female              55</span></span></code></pre></div>
<p>Using the <code>%&gt;=%</code> is not recommended in non-interactive sessions and <code><a href="reference/bind_record.html">bind_record()</a></code> is recommend in such settings.</p>
</div>
<div class="section level2">
<h2 id="condition-handling">Condition handling<a class="anchor" aria-label="anchor" href="#condition-handling"></a>
</h2>
<p>By default, errors and warnings get caught and composed in the log:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">errord_output</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span> </span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sx</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span> <span class="co"># typo, "sx" instead of "sex"</span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">errord_output</span></span>
<span><span class="co">#&gt; NOK! Value computed unsuccessfully:</span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; Nothing</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; This is an object of type `chronicle`.</span></span>
<span><span class="co">#&gt; Retrieve the value of this object with unveil(.c, "value").</span></span>
<span><span class="co">#&gt; To read the log of this object, call read_log(.c).</span></span></code></pre></div>
<p>Reading the log tells you which function failed, and with which error message:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">errord_output</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </span></span>
<span><span class="co">#&gt; [2] "OK! select(., height, mass, species, sex) ran successfully at 2025-08-14 12:17:16.155783"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </span></span>
<span><span class="co">#&gt; [3] "NOK! group_by(c(\"structure(list(height = c(172L, 167L, 96L, 202L, 150L, 178L, \", \"165L, 97L, 183L, 182L, 188L, 180L, 228L, 180L, 173L, 175L, 170L, \", \"180L, 66L, 170L, 183L, 200L, 190L, 177L, 175L, 180L, 150L, NA, \", \"88L, 160L, 193L, 191L, 170L, 185L, 196L, 224L, 206L, 183L, 137L, \", \"112L, 183L, 163L, 175L, 180L, 178L, 79L, 94L, 122L, 163L, 188L, \", \"198L, 196L, 171L, 184L, 188L, 264L, 188L, 196L, 185L, 157L, 183L, \", \"183L, 170L, 166L, 165L, 193L, 191L, 183L, 168L, 198L, 229L, 213L, \", \"167L, 96L, 193L, 191L, 178L, 216L, 234L, 188L, 178L, 206L, NA, \", \n\"NA, NA, NA, NA), mass = c(77, 75, 32, 136, 49, 120, 75, 32, 84, \", \"77, 84, NA, 112, 80, 74, 1358, 77, 110, 17, 75, 78.2, 140, 113, \", \"79, 79, 83, NA, NA, 20, 68, 89, 90, NA, 45, 66, 82, NA, NA, NA, \", \"40, NA, NA, 80, NA, 55, 15, 45, NA, 65, 84, 82, 87, NA, 50, NA, \", \"NA, 80, NA, 85, NA, NA, 80, 56.2, 50, NA, 80, NA, 79, 55, 102, \", \"88, NA, NA, NA, 48, NA, 57, 159, 136, 79, 48, 80, NA, NA, NA, \", \"NA, NA), species = c(\\\"Human\\\", \\\"Droid\\\", \\\"Droid\\\", \\\"Human\\\", \\\"Human\\\", \", \"\\\"Human\\\", \\\"Human\\\", \\\"Droid\\\", \\\"Human\\\", \\\"Human\\\", \\\"Human\\\", \\\"Human\\\", \", \n\"\\\"Wookiee\\\", \\\"Human\\\", \\\"Rodian\\\", \\\"Hutt\\\", \\\"Human\\\", NA, \\\"Yoda's species\\\", \", \"\\\"Human\\\", \\\"Human\\\", \\\"Droid\\\", \\\"Trandoshan\\\", \\\"Human\\\", \\\"Human\\\", \\\"Mon Calamari\\\", \", \"\\\"Human\\\", \\\"Human\\\", \\\"Ewok\\\", \\\"Sullustan\\\", \\\"Human\\\", \\\"Neimodian\\\", \", \"\\\"Human\\\", \\\"Human\\\", \\\"Gungan\\\", \\\"Gungan\\\", \\\"Gungan\\\", \\\"Human\\\", \\\"Toydarian\\\", \", \"\\\"Dug\\\", \\\"Human\\\", \\\"Human\\\", \\\"Zabrak\\\", \\\"Twi'lek\\\", \\\"Twi'lek\\\", \\\"Aleena\\\", \", \"\\\"Vulptereen\\\", \\\"Xexto\\\", \\\"Toong\\\", \\\"Human\\\", \\\"Cerean\\\", \\\"Nautolan\\\", \", \n\"\\\"Zabrak\\\", \\\"Tholothian\\\", \\\"Iktotchi\\\", \\\"Quermian\\\", \\\"Kel Dor\\\", \\\"Chagrian\\\", \", \"NA, NA, \\\"Human\\\", \\\"Geonosian\\\", \\\"Mirialan\\\", \\\"Mirialan\\\", \\\"Human\\\", \", \"\\\"Human\\\", \\\"Human\\\", \\\"Human\\\", \\\"Clawdite\\\", \\\"Besalisk\\\", \\\"Kaminoan\\\", \", \"\\\"Kaminoan\\\", \\\"Human\\\", \\\"Droid\\\", \\\"Skakoan\\\", \\\"Muun\\\", \\\"Togruta\\\", \\\"Kaleesh\\\", \", \"\\\"Wookiee\\\", \\\"Human\\\", NA, \\\"Pau'an\\\", \\\"Human\\\", \\\"Human\\\", \\\"Human\\\", \", \"\\\"Droid\\\", \\\"Human\\\"), sex = c(\\\"male\\\", \\\"none\\\", \\\"none\\\", \\\"male\\\", \\\"female\\\", \", \"\\\"male\\\", \\\"female\\\", \\\"none\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \", \n\"\\\"male\\\", \\\"male\\\", \\\"hermaphroditic\\\", \\\"male\\\", NA, \\\"male\\\", \\\"male\\\", \", \"\\\"male\\\", \\\"none\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"female\\\", \\\"male\\\", \", \"\\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"female\\\", \\\"male\\\", \\\"male\\\", \", \"\\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"female\\\", \\\"male\\\", \\\"male\\\", \", \"\\\"female\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \", \"\\\"male\\\", \\\"female\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", NA, NA, \\\"male\\\", \", \n\"\\\"male\\\", \\\"female\\\", \\\"female\\\", \\\"female\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", \", \"\\\"female\\\", \\\"male\\\", \\\"male\\\", \\\"female\\\", \\\"female\\\", \\\"none\\\", \\\"male\\\", \", \"\\\"male\\\", \\\"female\\\", \\\"male\\\", \\\"male\\\", \\\"male\\\", NA, \\\"male\\\", \\\"male\\\", \", \"\\\"female\\\", \\\"male\\\", \\\"none\\\", \\\"female\\\")), row.names = c(NA, -87L), class = c(\\\"tbl_df\\\", \", \"\\\"tbl\\\", \\\"data.frame\\\"))\"), species, sx) ran unsuccessfully with following exception: Must group by variables found in `.data`.\n✖ Column `sx` is not found. at 2025-08-14 12:17:16.158648"</span></span>
<span><span class="co">#&gt; [4] "NOK! filter(structure(list(type = \"nothing\"), class = \"maybe\"), sex != \"male\") ran unsuccessfully with following exception: Pipeline failed upstream at 2025-08-14 12:17:16.186298"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </span></span>
<span><span class="co">#&gt; [5] "NOK! summarise(structure(list(type = \"nothing\"), class = \"maybe\"), mean(mass, na.rm = TRUE)) ran unsuccessfully with following exception: Pipeline failed upstream at 2025-08-14 12:17:16.188189"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         </span></span>
<span><span class="co">#&gt; [6] "Total running time: 0.0239553451538086"</span></span></code></pre></div>
<p>It is also possible to only capture errors, or capture errors, warnings and messages using the <code>strict</code> parameter of <code><a href="reference/record.html">record()</a></code></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only errors:</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span>, strict <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">r_sqrt</span><span class="op">(</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in .f(...): NaNs produced</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                               </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt(-10) ran successfully at 2025-08-14 12:17:16.201891"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000201940536499023"</span></span>
<span></span>
<span><span class="co"># Errors and warnings:</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span>, strict <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">r_sqrt</span><span class="op">(</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                          </span></span>
<span><span class="co">#&gt; [2] "NOK! sqrt(-10) ran unsuccessfully with following exception: NaNs produced at 2025-08-14 12:17:16.204658"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 9.67979431152344e-05"</span></span>
<span></span>
<span><span class="co"># Errors, warnings and messages</span></span>
<span></span>
<span><span class="va">my_f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"this is a message"</span><span class="op">)</span></span>
<span>  <span class="fl">10</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">my_f</span>, strict <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                         <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                               </span></span>
<span><span class="co">#&gt; [2] "NOK! my_f(10) ran unsuccessfully with following exception: this is a message\n at 2025-08-14 12:17:16.207209"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000124931335449219"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="advanced-logging">Advanced logging<a class="anchor" aria-label="anchor" href="#advanced-logging"></a>
</h2>
<p>You can provide a function to <code><a href="reference/record.html">record()</a></code>, which will be evaluated on the output. This makes it possible to, for example, monitor the size of a data frame throughout the pipeline:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <code>$log_df</code> element of a <code>chronicle</code> object contains detailed information:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">output_pipe</span>, <span class="st">"log_df"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ops_number     outcome  function</span></span>
<span><span class="co">#&gt; 1          1 OK! Success    select</span></span>
<span><span class="co">#&gt; 2          2 OK! Success  group_by</span></span>
<span><span class="co">#&gt; 3          3 OK! Success    filter</span></span>
<span><span class="co">#&gt; 4          4 OK! Success summarise</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      arguments</span></span>
<span><span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ., height, mass, species, sex</span></span>
<span><span class="co">#&gt; 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  c("structure(list(height = c(172L, 167L, 96L, 202L, 150L, 178L, ", "165L, 97L, 183L, 182L, 188L, 180L, 228L, 180L, 173L, 175L, 170L, ", "180L, 66L, 170L, 183L, 200L, 190L, 177L, 175L, 180L, 150L, NA, ", "88L, 160L, 193L, 191L, 170L, 185L, 196L, 224L, 206L, 183L, 137L, ", "112L, 183L, 163L, 175L, 180L, 178L, 79L, 94L, 122L, 163L, 188L, ", "198L, 196L, 171L, 184L, 188L, 264L, 188L, 196L, 185L, 157L, 183L, ", "183L, 170L, 166L, 165L, 193L, 191L, 183L, 168L, 198L, 229L, 213L, ", "167L, 96L, 193L, 191L, 178L, 216L, 234L, 188L, 178L, 206L, NA, ", \n"NA, NA, NA, NA), mass = c(77, 75, 32, 136, 49, 120, 75, 32, 84, ", "77, 84, NA, 112, 80, 74, 1358, 77, 110, 17, 75, 78.2, 140, 113, ", "79, 79, 83, NA, NA, 20, 68, 89, 90, NA, 45, 66, 82, NA, NA, NA, ", "40, NA, NA, 80, NA, 55, 15, 45, NA, 65, 84, 82, 87, NA, 50, NA, ", "NA, 80, NA, 85, NA, NA, 80, 56.2, 50, NA, 80, NA, 79, 55, 102, ", "88, NA, NA, NA, 48, NA, 57, 159, 136, 79, 48, 80, NA, NA, NA, ", "NA, NA), species = c(\\"Human\\", \\"Droid\\", \\"Droid\\", \\"Human\\", \\"Human\\", ", "\\"Human\\", \\"Human\\", \\"Droid\\", \\"Human\\", \\"Human\\", \\"Human\\", \\"Human\\", ", \n"\\"Wookiee\\", \\"Human\\", \\"Rodian\\", \\"Hutt\\", \\"Human\\", NA, \\"Yoda's species\\", ", "\\"Human\\", \\"Human\\", \\"Droid\\", \\"Trandoshan\\", \\"Human\\", \\"Human\\", \\"Mon Calamari\\", ", "\\"Human\\", \\"Human\\", \\"Ewok\\", \\"Sullustan\\", \\"Human\\", \\"Neimodian\\", ", "\\"Human\\", \\"Human\\", \\"Gungan\\", \\"Gungan\\", \\"Gungan\\", \\"Human\\", \\"Toydarian\\", ", "\\"Dug\\", \\"Human\\", \\"Human\\", \\"Zabrak\\", \\"Twi'lek\\", \\"Twi'lek\\", \\"Aleena\\", ", "\\"Vulptereen\\", \\"Xexto\\", \\"Toong\\", \\"Human\\", \\"Cerean\\", \\"Nautolan\\", ", \n"\\"Zabrak\\", \\"Tholothian\\", \\"Iktotchi\\", \\"Quermian\\", \\"Kel Dor\\", \\"Chagrian\\", ", "NA, NA, \\"Human\\", \\"Geonosian\\", \\"Mirialan\\", \\"Mirialan\\", \\"Human\\", ", "\\"Human\\", \\"Human\\", \\"Human\\", \\"Clawdite\\", \\"Besalisk\\", \\"Kaminoan\\", ", "\\"Kaminoan\\", \\"Human\\", \\"Droid\\", \\"Skakoan\\", \\"Muun\\", \\"Togruta\\", \\"Kaleesh\\", ", "\\"Wookiee\\", \\"Human\\", NA, \\"Pau'an\\", \\"Human\\", \\"Human\\", \\"Human\\", ", "\\"Droid\\", \\"Human\\"), sex = c(\\"male\\", \\"none\\", \\"none\\", \\"male\\", \\"female\\", ", "\\"male\\", \\"female\\", \\"none\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", \n"\\"male\\", \\"male\\", \\"hermaphroditic\\", \\"male\\", NA, \\"male\\", \\"male\\", ", "\\"male\\", \\"none\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", ", "\\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", \\"male\\", ", "\\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", "\\"male\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", NA, NA, \\"male\\", ", \n"\\"male\\", \\"female\\", \\"female\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"male\\", \\"female\\", \\"female\\", \\"none\\", \\"male\\", ", "\\"male\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", NA, \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"none\\", \\"female\\")), row.names = c(NA, -87L), class = c(\\"tbl_df\\", ", "\\"tbl\\", \\"data.frame\\"))"), species, sex</span></span>
<span><span class="co">#&gt; 3 c("structure(list(height = c(172L, 167L, 96L, 202L, 150L, 178L, ", "165L, 97L, 183L, 182L, 188L, 180L, 228L, 180L, 173L, 175L, 170L, ", "180L, 66L, 170L, 183L, 200L, 190L, 177L, 175L, 180L, 150L, NA, ", "88L, 160L, 193L, 191L, 170L, 185L, 196L, 224L, 206L, 183L, 137L, ", "112L, 183L, 163L, 175L, 180L, 178L, 79L, 94L, 122L, 163L, 188L, ", "198L, 196L, 171L, 184L, 188L, 264L, 188L, 196L, 185L, 157L, 183L, ", "183L, 170L, 166L, 165L, 193L, 191L, 183L, 168L, 198L, 229L, 213L, ", "167L, 96L, 193L, 191L, 178L, 216L, 234L, 188L, 178L, 206L, NA, ", \n"NA, NA, NA, NA), mass = c(77, 75, 32, 136, 49, 120, 75, 32, 84, ", "77, 84, NA, 112, 80, 74, 1358, 77, 110, 17, 75, 78.2, 140, 113, ", "79, 79, 83, NA, NA, 20, 68, 89, 90, NA, 45, 66, 82, NA, NA, NA, ", "40, NA, NA, 80, NA, 55, 15, 45, NA, 65, 84, 82, 87, NA, 50, NA, ", "NA, 80, NA, 85, NA, NA, 80, 56.2, 50, NA, 80, NA, 79, 55, 102, ", "88, NA, NA, NA, 48, NA, 57, 159, 136, 79, 48, 80, NA, NA, NA, ", "NA, NA), species = c(\\"Human\\", \\"Droid\\", \\"Droid\\", \\"Human\\", \\"Human\\", ", "\\"Human\\", \\"Human\\", \\"Droid\\", \\"Human\\", \\"Human\\", \\"Human\\", \\"Human\\", ", \n"\\"Wookiee\\", \\"Human\\", \\"Rodian\\", \\"Hutt\\", \\"Human\\", NA, \\"Yoda's species\\", ", "\\"Human\\", \\"Human\\", \\"Droid\\", \\"Trandoshan\\", \\"Human\\", \\"Human\\", \\"Mon Calamari\\", ", "\\"Human\\", \\"Human\\", \\"Ewok\\", \\"Sullustan\\", \\"Human\\", \\"Neimodian\\", ", "\\"Human\\", \\"Human\\", \\"Gungan\\", \\"Gungan\\", \\"Gungan\\", \\"Human\\", \\"Toydarian\\", ", "\\"Dug\\", \\"Human\\", \\"Human\\", \\"Zabrak\\", \\"Twi'lek\\", \\"Twi'lek\\", \\"Aleena\\", ", "\\"Vulptereen\\", \\"Xexto\\", \\"Toong\\", \\"Human\\", \\"Cerean\\", \\"Nautolan\\", ", \n"\\"Zabrak\\", \\"Tholothian\\", \\"Iktotchi\\", \\"Quermian\\", \\"Kel Dor\\", \\"Chagrian\\", ", "NA, NA, \\"Human\\", \\"Geonosian\\", \\"Mirialan\\", \\"Mirialan\\", \\"Human\\", ", "\\"Human\\", \\"Human\\", \\"Human\\", \\"Clawdite\\", \\"Besalisk\\", \\"Kaminoan\\", ", "\\"Kaminoan\\", \\"Human\\", \\"Droid\\", \\"Skakoan\\", \\"Muun\\", \\"Togruta\\", \\"Kaleesh\\", ", "\\"Wookiee\\", \\"Human\\", NA, \\"Pau'an\\", \\"Human\\", \\"Human\\", \\"Human\\", ", "\\"Droid\\", \\"Human\\"), sex = c(\\"male\\", \\"none\\", \\"none\\", \\"male\\", \\"female\\", ", "\\"male\\", \\"female\\", \\"none\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", \n"\\"male\\", \\"male\\", \\"hermaphroditic\\", \\"male\\", NA, \\"male\\", \\"male\\", ", "\\"male\\", \\"none\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", ", "\\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", \\"male\\", ", "\\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", "\\"male\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", NA, NA, \\"male\\", ", \n"\\"male\\", \\"female\\", \\"female\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"male\\", \\"female\\", \\"female\\", \\"none\\", \\"male\\", ", "\\"male\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", NA, \\"male\\", \\"male\\", ", "\\"female\\", \\"male\\", \\"none\\", \\"female\\")), class = c(\\"grouped_df\\", ", "\\"tbl_df\\", \\"tbl\\", \\"data.frame\\"), row.names = c(NA, -87L), groups = structure(list(", "    species = c(\\"Aleena\\", \\"Besalisk\\", \\"Cerean\\", \\"Chagrian\\", \\"Clawdite\\", ", "    \\"Droid\\", \\"Dug\\", \\"Ewok\\", \\"Geonosian\\", \\"Gungan\\", \\"Human\\", \\"Human\\", ", \n"    \\"Hutt\\", \\"Iktotchi\\", \\"Kaleesh\\", \\"Kaminoan\\", \\"Kaminoan\\", \\"Kel Dor\\", ", "    \\"Mirialan\\", \\"Mon Calamari\\", \\"Muun\\", \\"Nautolan\\", \\"Neimodian\\", ", "    \\"Pau'an\\", \\"Quermian\\", \\"Rodian\\", \\"Skakoan\\", \\"Sullustan\\", \\"Tholothian\\", ", "    \\"Togruta\\", \\"Toong\\", \\"Toydarian\\", \\"Trandoshan\\", \\"Twi'lek\\", ", "    \\"Twi'lek\\", \\"Vulptereen\\", \\"Wookiee\\", \\"Xexto\\", \\"Yoda's species\\", ", "    \\"Zabrak\\", NA), sex = c(\\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", ", "    \\"none\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", ", \n"    \\"hermaphroditic\\", \\"male\\", \\"male\\", \\"female\\", \\"male\\", \\"male\\", ", "    \\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", "    \\"male\\", \\"male\\", \\"male\\", \\"female\\", \\"female\\", \\"male\\", \\"male\\", ", "    \\"male\\", \\"female\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", \\"male\\", ", "    \\"male\\", NA), .rows = structure(list(46L, 70L, 51L, 58L, 69L, ", "        c(2L, 3L, 8L, 22L, 74L, 86L), 40L, 29L, 62L, 35:37, c(5L, ", "        7L, 27L, 34L, 42L, 65L, 73L, 84L, 87L), c(1L, 4L, 6L, ", \n"        9L, 10L, 11L, 12L, 14L, 17L, 20L, 21L, 24L, 25L, 28L, ", "        31L, 33L, 38L, 41L, 50L, 61L, 66L, 67L, 68L, 80L, 83L, ", "        85L), 16L, 55L, 78L, 72L, 71L, 57L, 63:64, 26L, 76L, ", "        52L, 32L, 82L, 56L, 15L, 75L, 30L, 54L, 77L, 49L, 39L, ", "        23L, 45L, 44L, 47L, c(13L, 79L), 48L, 19L, c(43L, 53L", "        ), c(18L, 59L, 60L, 81L)), ptype = integer(0), class = c(\\"vctrs_list_of\\", ", "    \\"vctrs_vctr\\", \\"list\\"))), class = c(\\"tbl_df\\", \\"tbl\\", \\"data.frame\\"", "), row.names = c(NA, -41L), .drop = TRUE))"\n), sex != "male"</span></span>
<span><span class="co">#&gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   c("structure(list(height = c(167L, 96L, 150L, 165L, 97L, 175L, 200L, ", "150L, 185L, 163L, 178L, 184L, 170L, 166L, 165L, 168L, 213L, 167L, ", "96L, 178L, NA, NA, NA), mass = c(75, 32, 49, 75, 32, 1358, 140, ", "NA, 45, NA, 55, 50, 56.2, 50, NA, 55, NA, NA, NA, 57, NA, NA, ", "NA), species = c(\\"Droid\\", \\"Droid\\", \\"Human\\", \\"Human\\", \\"Droid\\", ", "\\"Hutt\\", \\"Droid\\", \\"Human\\", \\"Human\\", \\"Human\\", \\"Twi'lek\\", \\"Tholothian\\", ", "\\"Mirialan\\", \\"Mirialan\\", \\"Human\\", \\"Clawdite\\", \\"Kaminoan\\", \\"Human\\", ", \n"\\"Droid\\", \\"Togruta\\", \\"Human\\", \\"Droid\\", \\"Human\\"), sex = c(\\"none\\", ", "\\"none\\", \\"female\\", \\"female\\", \\"none\\", \\"hermaphroditic\\", \\"none\\", ", "\\"female\\", \\"female\\", \\"female\\", \\"female\\", \\"female\\", \\"female\\", \\"female\\", ", "\\"female\\", \\"female\\", \\"female\\", \\"female\\", \\"none\\", \\"female\\", \\"female\\", ", "\\"none\\", \\"female\\")), class = c(\\"grouped_df\\", \\"tbl_df\\", \\"tbl\\", ", "\\"data.frame\\"), row.names = c(NA, -23L), groups = structure(list(", "    species = c(\\"Clawdite\\", \\"Droid\\", \\"Human\\", \\"Hutt\\", \\"Kaminoan\\", ", \n"    \\"Mirialan\\", \\"Tholothian\\", \\"Togruta\\", \\"Twi'lek\\"), sex = c(\\"female\\", ", "    \\"none\\", \\"female\\", \\"hermaphroditic\\", \\"female\\", \\"female\\", \\"female\\", ", "    \\"female\\", \\"female\\"), .rows = structure(list(16L, c(1L, 2L, ", "    5L, 7L, 19L, 22L), c(3L, 4L, 8L, 9L, 10L, 15L, 18L, 21L, ", "    23L), 6L, 17L, 13:14, 12L, 20L, 11L), ptype = integer(0), class = c(\\"vctrs_list_of\\", ", "    \\"vctrs_vctr\\", \\"list\\"))), row.names = c(NA, -9L), .drop = TRUE, class = c(\\"tbl_df\\", ", "\\"tbl\\", \\"data.frame\\")))"\n), mean(mass, na.rm = TRUE)</span></span>
<span><span class="co">#&gt;   message          start_time            end_time          run_time     g</span></span>
<span><span class="co">#&gt; 1      NA 2025-08-14 12:17:16 2025-08-14 12:17:16 0.0007326603 secs 87, 4</span></span>
<span><span class="co">#&gt; 2      NA 2025-08-14 12:17:16 2025-08-14 12:17:16 0.0009438992 secs    NA</span></span>
<span><span class="co">#&gt; 3      NA 2025-08-14 12:17:16 2025-08-14 12:17:16 0.0008692741 secs 23, 4</span></span>
<span><span class="co">#&gt; 4      NA 2025-08-14 12:17:16 2025-08-14 12:17:16 0.0011398792 secs  9, 3</span></span>
<span><span class="co">#&gt;   diff_obj lag_outcome</span></span>
<span><span class="co">#&gt; 1     NULL        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2     NULL OK! Success</span></span>
<span><span class="co">#&gt; 3     NULL OK! Success</span></span>
<span><span class="co">#&gt; 4     NULL OK! Success</span></span></code></pre></div>
<p>It is thus possible to take a look at the output of the function provided (<code><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim()</a></code>) using <code><a href="reference/check_g.html">check_g()</a></code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/check_g.html">check_g</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ops_number  function     g</span></span>
<span><span class="co">#&gt; 1          1    select 87, 4</span></span>
<span><span class="co">#&gt; 2          2  group_by    NA</span></span>
<span><span class="co">#&gt; 3          3    filter 23, 4</span></span>
<span><span class="co">#&gt; 4          4 summarise  9, 3</span></span></code></pre></div>
<p>We can see that the dimension of the dataframe was (87, 4) after the call to <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>, (23, 4) after the call to <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> and finally (9, 3) after the call to <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise()</a></code>.</p>
<p>Another possibility for advanced logging is to use the <code>diff</code> argument in record, which defaults to “none”. Setting it to “full” provides, at each step of a workflow, the diff between the input and the output:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Let’s compare the input and the output to <code>r_filter(sex != "male")</code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The following line generates a data frame with columns `ops_number`, `function` and `diff_obj`</span></span>
<span><span class="co"># it is possible to filter on the step of interest using the `ops_number` or the `function` column</span></span>
<span><span class="va">diff_pipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/check_diff.html">check_diff</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">`function`</span> <span class="op">==</span> <span class="st">"filter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># &lt;- backticks around `function` are required</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">diff_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; &lt; input                                 </span></span>
<span><span class="co">#&gt; &gt; output                                </span></span>
<span><span class="co">#&gt; @@ 1,15 / 1,15 @@                       </span></span>
<span><span class="co">#&gt; &lt; # A tibble: 87 × 4                    </span></span>
<span><span class="co">#&gt; &gt; # A tibble: 23 × 4                    </span></span>
<span><span class="co">#&gt; &lt; # Groups:   species, sex [41]         </span></span>
<span><span class="co">#&gt; &gt; # Groups:   species, sex [9]          </span></span>
<span><span class="co">#&gt;      height  mass species sex           </span></span>
<span><span class="co">#&gt;       &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;         </span></span>
<span><span class="co">#&gt; &lt;  1    172    77 Human   male          </span></span>
<span><span class="co">#&gt;    2    167    75 Droid   none          </span></span>
<span><span class="co">#&gt;    3     96    32 Droid   none          </span></span>
<span><span class="co">#&gt; &lt;  4    202   136 Human   male          </span></span>
<span><span class="co">#&gt;    5    150    49 Human   female        </span></span>
<span><span class="co">#&gt; &lt;  6    178   120 Human   male          </span></span>
<span><span class="co">#&gt;    7    165    75 Human   female        </span></span>
<span><span class="co">#&gt;    8     97    32 Droid   none          </span></span>
<span><span class="co">#&gt; &gt;  6    175  1358 Hutt    hermaphroditic</span></span>
<span><span class="co">#&gt; &gt;  7    200   140 Droid   none          </span></span>
<span><span class="co">#&gt; &lt;  9    183    84 Human   male          </span></span>
<span><span class="co">#&gt; &gt;  8    150    NA Human   female        </span></span>
<span><span class="co">#&gt; &lt; 10    182    77 Human   male          </span></span>
<span><span class="co">#&gt; &gt;  9    185    45 Human   female        </span></span>
<span><span class="co">#&gt; &gt; 10    163    NA Human   female        </span></span>
<span><span class="co">#&gt; &lt; # ℹ 77 more rows                      </span></span>
<span><span class="co">#&gt; &gt; # ℹ 13 more rows</span></span></code></pre></div>
<p>If you are familiar with the version control software <code>Git</code>, you should have no problem reading this output. The input was a data frame of 87 rows and 4 columns, and the output only had 23 rows. Rows that were in the input, and got removed from the output, are highlighted (in the terminal, but not here, due to the color scheme). If <code>diff</code> is set to “summary”, then only a summary is provided:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/check_diff.html">check_diff</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">`function`</span> <span class="op">==</span> <span class="st">"filter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># &lt;- backticks around `function` are required</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">diff_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Found differences in 5 hunks:</span></span>
<span><span class="co">#&gt;   8 insertions, 8 deletions, 7 matches (lines)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Diff map (line:char scale is 1:1 for single chars, 1:1 for char seqs):</span></span>
<span><span class="co">#&gt;   DDII..D..D.D..DDDIIIIII</span></span></code></pre></div>
<p>By combining <code>.g</code> and <code>diff</code>, it is possible to have a very clear overview of what happened to the very first input throughout the pipeline. <code>diff</code> functionality is provided by the <a href="https://github.com/brodieG/diffobj" class="external-link">diffobj</a> package.</p>
</div>
<div class="section level2">
<h2 id="recording-ggplot">Recording ggplot<a class="anchor" aria-label="anchor" href="#recording-ggplot"></a>
</h2>
<p>This package provides a <code><a href="reference/record.html">record()</a></code> implementation for <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> called <code><a href="reference/record_ggplot.html">record_ggplot()</a></code>. It is a separate function for two main reasons:</p>
<ul>
<li>ggplot specifications are composed of multiple function calls.</li>
<li>ggplot specifications are lazily evaluated, meaning that errors aren’t thrown immediately. For example:</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Notice the double "g" in "mpgg" </span></span>
<span><span class="va">plot_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">hp</span>, x <span class="op">=</span> <span class="va">mpgg</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># The error is not thrown here due to ggplot's lazy evaluation</span></span></code></pre></div>
<p>The error will only be thrown when you force evaluation, for example by printing <code>plot_1</code>.</p>
<p>The function <code><a href="reference/record_ggplot.html">record_ggplot()</a></code> takes the ggplot specification as the first argument. It can also take the <code>strict</code> argument mentioned above.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_plot_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record_ggplot.html">record_ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">hp</span>, x <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The output of this function is the same as for <code><a href="reference/record.html">record()</a></code>:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">r_plot_1</span>, <span class="st">"value"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-27-1.png" width="100%"></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">r_plot_1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                </span></span>
<span><span class="co">#&gt; [2] "OK! ggplot(data = mtcars) + geom_point(aes(y = hp, x = mpg))() ran successfully at 2025-08-14 12:17:16.797693"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.061201810836792"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="thanks">Thanks<a class="anchor" aria-label="anchor" href="#thanks"></a>
</h2>
<p>I’d like to thank <a href="https://github.com/armcn" class="external-link">armcn</a>, <a href="https://github.com/Kupac" class="external-link">Kupac</a> for their blog posts (<a href="https://kupac.gitlab.io/biofunctor/2019/05/25/maybe-monad-in-r/" class="external-link">here</a>) and packages (<a href="https://armcn.github.io/maybe/" class="external-link">maybe</a>) which inspired me to build this package. Thank you as well to <a href="https://community.rstudio.com/t/help-with-writing-a-custom-pipe-and-environments/133447/2?u=brodriguesco" class="external-link">TimTeaFan</a> for his help with writing the <code>%&gt;=%</code> infix operator, <a href="https://community.rstudio.com/t/best-way-to-catch-rlang-errors-consistently/131632/5?u=brodriguesco" class="external-link">nigrahamuk</a> for showing me a nice way to catch errors, and finally <a href="https://community.rstudio.com/t/how-to-do-call-a-dplyr-function/131396/2?u=brodriguesco" class="external-link">Mwavu</a> for pointing me towards the right direction with an issue I’ve had as I started working on this package. Thanks to <a href="https://twitter.com/putosaure" class="external-link">Putosaure</a> for designing the hex logo.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=chronicler" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing chronicler</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bruno Rodrigues <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-3211-3689" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/b-rodrigues/chronicler/actions/workflows/rhub.yaml/" class="external-link"><img src="https://github.com/b-rodrigues/chronicler/actions/workflows/rhub.yaml/badge.svg" alt="R-hub v2"></a></li>
<li><a href="https://app.codecov.io/gh/b-rodrigues/chronicler?branch=master" class="external-link"><img src="https://codecov.io/gh/b-rodrigues/chronicler/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
