<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Decorate functions to make them return enhanced output. The
    enhanced output consists in an object of type chronicle containing
    the result of the function applied to its arguments, as well as a log
    detailing when the function was run, what were its inputs, what were
    the errors (if the function failed to run) and other useful
    information. Tools to handle decorated functions are included, such as
    a forward pipe operator that makes chaining decorated functions
    possible.">
<title>Add Logging To Functions • chronicler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Add Logging To Functions">
<meta property="og:description" content="Decorate functions to make them return enhanced output. The
    enhanced output consists in an object of type chronicle containing
    the result of the function applied to its arguments, as well as a log
    detailing when the function was run, what were its inputs, what were
    the errors (if the function failed to run) and other useful
    information. Tools to handle decorated functions are included, such as
    a forward pipe operator that makes chaining decorated functions
    possible.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">chronicler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9999</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/a-non-mathematician-s-introduction-to-monads.html">A non-mathematician's introduction to monads</a>
    <a class="dropdown-item" href="articles/a-real-world-example.html">A real world example</a>
    <a class="dropdown-item" href="articles/developer-vignette-including-the-avia-data-to-the-package.html">Developer Vignette: Including the avia data to the package</a>
    <a class="dropdown-item" href="articles/the-maybe-monad.html">The Maybe monad</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="chronicler-">chronicler <img src="reference/figures/hex.png" align="right" style="width: 25%;"><a class="anchor" aria-label="anchor" href="#chronicler-"></a>
</h1></div>
<!-- badges: start -->

<p>Easily add logs to your functions, without interfering with the global environment.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is available on <a href="https://cran.r-project.org/web/packages/chronicler/" class="external-link">CRAN</a>. Install it with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"chronicler"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"b-rodrigues/chronicler"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>{chronicler}</code> provides the <code><a href="reference/record.html">record()</a></code> function, which allows you to modify functions so that they provide enhanced output. This enhanced output consists in a detailed log, and by chaining decorated functions, it becomes possible to have a complete trace of the operations that led to the final output. These decorated functions work exactly the same as their undecorated counterparts, but some care is required for correctly handling them. This introduction will give you a quick overview of this package’s functionality.</p>
<p>Let’s first start with a simple example, by decorating the <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">chronicler</span><span class="op">)</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">r_sqrt</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>Object <code>a</code> is now an object of class <code>chronicle</code>. Let’s take a closer look at <code>a</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span></span>
<span><span class="co">#&gt; OK! Value computed successfully:</span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; Just</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.414214 1.732051 2.000000 2.236068</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; This is an object of type `chronicle`.</span></span>
<span><span class="co">#&gt; Retrieve the value of this object with pick(.c, "value").</span></span>
<span><span class="co">#&gt; To read the log of this object, call read_log(.c).</span></span></code></pre></div>
<p><code>a</code> is now made up of several parts. The first part:</p>
<pre><code>OK! Value computed successfully:
---------------
Just
[1] 1.000000 1.414214 1.732051 2.000000 2.236068
</code></pre>
<p>simply provides the result of <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> applied to <code>1:5</code> (let’s ignore the word <code>Just</code> on the third line for now; for more details see the <code>Maybe Monad</code> vignette). The second part tells you that there’s more to it:</p>
<pre><code>---------------
This is an object of type `chronicle`.
Retrieve the value of this object with pick(.c, "value").
To read the log of this object, call read_log().</code></pre>
<p>The value of the <code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code> function applied to its arguments can be obtained using <code><a href="reference/pick.html">pick()</a></code>, as explained:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">a</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.414214 1.732051 2.000000 2.236068</span></span></code></pre></div>
<p>A log also gets generated and can be read using <code><a href="reference/read_log.html">read_log()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                            </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt() ran successfully at 2024-02-12 16:23:04.643557"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.00085902214050293 secs"</span></span></code></pre></div>
<p>This is especially useful for objects that get created using multiple calls:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span><span class="va">r_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">exp</span><span class="op">)</span></span>
<span><span class="va">r_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span></span>
<span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">r_sqrt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_exp</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_mean</span><span class="op">)</span></span></code></pre></div>
<p>(<code><a href="reference/bind_record.html">bind_record()</a></code> is used to chain multiple decorated functions and will be explained in detail in the next section.)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                            </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt() ran successfully at 2024-02-12 16:23:04.711671"</span></span>
<span><span class="co">#&gt; [3] "OK! exp() ran successfully at 2024-02-12 16:23:04.711546" </span></span>
<span><span class="co">#&gt; [4] "OK! mean() ran successfully at 2024-02-12 16:23:04.711434"</span></span>
<span><span class="co">#&gt; [5] "Total running time: 0.0204756259918213 secs"</span></span>
<span></span>
<span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">b</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 11.55345</span></span></code></pre></div>
<p><code><a href="reference/record.html">record()</a></code> works with any function, but not yet with <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</p>
<p>To avoid having to define every function individually, like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span><span class="op">)</span></span>
<span><span class="va">r_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">exp</span><span class="op">)</span></span>
<span><span class="va">r_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span></span></code></pre></div>
<p>you can use the <code><a href="reference/record_many.html">record_many()</a></code> function. <code><a href="reference/record_many.html">record_many()</a></code> takes a list of functions (as strings) as an input and puts generated code in your system’s clipboard. You can then paste the code into your text editor. The gif below illustrates how <code><a href="reference/record_many.html">record_many()</a></code> works:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/b-rodrigues/chronicler/master/data-raw/record_many.gif" alt=""><p class="caption"><code><a href="reference/record_many.html">record_many()</a></code> in action</p>
</div>
</div>
<div class="section level2">
<h2 id="chaining-decorated-functions">Chaining decorated functions<a class="anchor" aria-label="anchor" href="#chaining-decorated-functions"></a>
</h2>
<p><code><a href="reference/bind_record.html">bind_record()</a></code> is used to pass the output from one decorated function to the next:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:chronicler':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     pick</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_group_by</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_filter</span>, <span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_record.html">bind_record</a></span><span class="op">(</span><span class="va">r_summarise</span>,</span>
<span>              mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>              <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                         </span></span>
<span><span class="co">#&gt; [2] "OK! select(height,mass,species,sex) ran successfully at 2024-02-12 16:23:05.76115"     </span></span>
<span><span class="co">#&gt; [3] "OK! group_by(species,sex) ran successfully at 2024-02-12 16:23:05.760947"              </span></span>
<span><span class="co">#&gt; [4] "OK! filter(sex != \"male\") ran successfully at 2024-02-12 16:23:05.760807"            </span></span>
<span><span class="co">#&gt; [5] "OK! summarise(mean(mass, na.rm = TRUE)) ran successfully at 2024-02-12 16:23:05.760647"</span></span>
<span><span class="co">#&gt; [6] "Total running time: 0.127200126647949 secs"</span></span></code></pre></div>
<p>The value can then be accessed and worked on as usual using <code><a href="reference/pick.html">pick()</a></code>, as explained above:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">output</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `pick()`:</span></span>
<span><span class="co">#&gt; ! Must only be used inside data-masking verbs like `mutate()`, `filter()`, and</span></span>
<span><span class="co">#&gt;   `group_by()`.</span></span></code></pre></div>
<p>This package also ships with a dedicated pipe, <code>%&gt;=%</code> which you can use instead of <code><a href="reference/bind_record.html">bind_record()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mean_mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">output_pipe</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `pick()`:</span></span>
<span><span class="co">#&gt; ! Must only be used inside data-masking verbs like `mutate()`, `filter()`, and</span></span>
<span><span class="co">#&gt;   `group_by()`.</span></span></code></pre></div>
<p>Using the <code>%&gt;=%</code> is not recommended in non-interactive sessions and <code><a href="reference/bind_record.html">bind_record()</a></code> is recommend in such settings.</p>
</div>
<div class="section level2">
<h2 id="condition-handling">Condition handling<a class="anchor" aria-label="anchor" href="#condition-handling"></a>
</h2>
<p>By default, errors and warnings get caught and composed in the log:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">errord_output</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span> </span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sx</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span> <span class="co"># typo, "sx" instead of "sex"</span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">errord_output</span></span>
<span><span class="co">#&gt; NOK! Value computed unsuccessfully:</span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; Nothing</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; This is an object of type `chronicle`.</span></span>
<span><span class="co">#&gt; Retrieve the value of this object with pick(.c, "value").</span></span>
<span><span class="co">#&gt; To read the log of this object, call read_log(.c).</span></span></code></pre></div>
<p>Reading the log tells you which function failed, and with which error message:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">errord_output</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                                                                              </span></span>
<span><span class="co">#&gt; [2] "OK! select(height,mass,species,sex) ran successfully at 2024-02-12 16:23:05.937587"                                                                                         </span></span>
<span><span class="co">#&gt; [3] "NOK! group_by(species,sx) ran unsuccessfully with following exception: Must group by variables found in `.data`.\n✖ Column `sx` is not found. at 2024-02-12 16:23:05.952245"</span></span>
<span><span class="co">#&gt; [4] "NOK! filter(sex != \"male\") ran unsuccessfully with following exception: Pipeline failed upstream at 2024-02-12 16:23:05.983855"                                           </span></span>
<span><span class="co">#&gt; [5] "NOK! summarise(mean(mass, na.rm = TRUE)) ran unsuccessfully with following exception: Pipeline failed upstream at 2024-02-12 16:23:05.989377"                               </span></span>
<span><span class="co">#&gt; [6] "Total running time: 0.0302259922027588 secs"</span></span></code></pre></div>
<p>It is also possible to only capture errors, or capture errors, warnings and messages using the <code>strict</code> parameter of <code><a href="reference/record.html">record()</a></code></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only errors:</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span>, strict <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">r_sqrt</span><span class="op">(</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in .f(...): NaNs produced</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                            </span></span>
<span><span class="co">#&gt; [2] "OK! sqrt() ran successfully at 2024-02-12 16:23:06.013692"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000300168991088867 secs"</span></span>
<span></span>
<span><span class="co"># Errors and warnings:</span></span>
<span></span>
<span><span class="va">r_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">sqrt</span>, strict <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">r_sqrt</span><span class="op">(</span><span class="op">-</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                       </span></span>
<span><span class="co">#&gt; [2] "NOK! sqrt() ran unsuccessfully with following exception: NaNs produced at 2024-02-12 16:23:06.020969"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000262975692749023 secs"</span></span>
<span></span>
<span><span class="co"># Errors, warnings and messages</span></span>
<span></span>
<span><span class="va">my_f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"this is a message"</span><span class="op">)</span></span>
<span>  <span class="fl">10</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">my_f</span>, strict <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                         <span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                             </span></span>
<span><span class="co">#&gt; [2] "NOK! my_f() ran unsuccessfully with following exception: this is a message\n at 2024-02-12 16:23:06.027702"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.000387668609619141 secs"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="advanced-logging">Advanced logging<a class="anchor" aria-label="anchor" href="#advanced-logging"></a>
</h2>
<p>You can provide a function to <code><a href="reference/record.html">record()</a></code>, which will be evaluated on the output. This makes it possible to, for example, monitor the size of a data frame throughout the pipeline:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, .g <span class="op">=</span> <span class="va">dim</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <code>$log_df</code> element of a <code>chronicle</code> object contains detailed information:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">output_pipe</span>, <span class="st">"log_df"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `pick()`:</span></span>
<span><span class="co">#&gt; ! Must only be used inside data-masking verbs like `mutate()`, `filter()`, and</span></span>
<span><span class="co">#&gt;   `group_by()`.</span></span></code></pre></div>
<p>It is thus possible to take a look at the output of the function provided (<code><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim()</a></code>) using <code><a href="reference/check_g.html">check_g()</a></code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/check_g.html">check_g</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ops_number  function     g</span></span>
<span><span class="co">#&gt; 1          1    select 87, 4</span></span>
<span><span class="co">#&gt; 2          2  group_by    NA</span></span>
<span><span class="co">#&gt; 3          3    filter 23, 4</span></span>
<span><span class="co">#&gt; 4          4 summarise  9, 3</span></span></code></pre></div>
<p>We can see that the dimension of the dataframe was (87, 4) after the call to <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>, (23, 4) after the call to <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> and finally (9, 3) after the call to <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise()</a></code>.</p>
<p>Another possibility for advanced logging is to use the <code>diff</code> argument in record, which defaults to “none”. Setting it to “full” provides, at each step of a workflow, the diff between the input and the output:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, diff <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Let’s compare the input and the output to <code>r_filter(sex != "male")</code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The following line generates a data frame with columns `ops_number`, `function` and `diff_obj`</span></span>
<span><span class="co"># it is possible to filter on the step of interest using the `ops_number` or the `function` column</span></span>
<span><span class="va">diff_pipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/check_diff.html">check_diff</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">`function`</span> <span class="op">==</span> <span class="st">"filter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># &lt;- backticks around `function` are required</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">diff_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span></code></pre></div>
<p>If you are familiar with the version control software <code>Git</code>, you should have no problem reading this output. The input was a data frame of 87 rows and 4 columns, and the output only had 23 rows. Rows that were in the input, and got removed from the output, are highlighted (in the terminal, but not here, due to the color scheme). If <code>diff</code> is set to “summary”, then only a summary is provided:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_group_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">group_by</span><span class="op">)</span></span>
<span><span class="va">r_select</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">select</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span><span class="va">r_summarise</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">summarise</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span><span class="va">r_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record.html">record</a></span><span class="op">(</span><span class="va">filter</span>, diff <span class="op">=</span> <span class="st">"summary"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_pipe</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">r_select</span><span class="op">(</span><span class="va">height</span>, <span class="va">mass</span>, <span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_group_by</span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_filter</span><span class="op">(</span><span class="va">sex</span> <span class="op">!=</span> <span class="st">"male"</span><span class="op">)</span> <span class="op"><a href="reference/grapes-greater-than-equals-grapes.html">%&gt;=%</a></span></span>
<span>  <span class="fu">r_summarise</span><span class="op">(</span>mass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mass</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/check_diff.html">check_diff</a></span><span class="op">(</span><span class="va">output_pipe</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diff_pipe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">`function`</span> <span class="op">==</span> <span class="st">"filter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># &lt;- backticks around `function` are required</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">diff_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span></code></pre></div>
<p>By combining <code>.g</code> and <code>diff</code>, it is possible to have a very clear overview of what happened to the very first input throughout the pipeline. <code>diff</code> functionality is provided by the <a href="https://github.com/brodieG/diffobj" class="external-link">diffobj</a> package.</p>
</div>
<div class="section level2">
<h2 id="recording-ggplot">Recording ggplot<a class="anchor" aria-label="anchor" href="#recording-ggplot"></a>
</h2>
<p>This package provides a <code><a href="reference/record.html">record()</a></code> implementation for <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> called <code><a href="reference/record_ggplot.html">record_ggplot()</a></code>. It is a separate function for two main reasons:</p>
<ul>
<li>ggplot specifications are composed of multiple function calls.</li>
<li>ggplot specifications are lazily evaluated, meaning that errors aren’t thrown immediately. For example:</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Notice the double "g" in "mpgg" </span></span>
<span><span class="va">plot_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">hp</span>, x <span class="op">=</span> <span class="va">mpgg</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># The error is not thrown here due to ggplot's lazy evaluation</span></span></code></pre></div>
<p>The error will only be thrown when you force evaluation, for example by printing <code>plot_1</code>.</p>
<p>The function <code><a href="reference/record_ggplot.html">record_ggplot()</a></code> takes the ggplot specification as the first argument. It can also take the <code>strict</code> argument mentioned above.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_plot_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/record_ggplot.html">record_ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">hp</span>, x <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in record_ggplot(ggplot(data = mtcars) + geom_point(aes(y = hp, : could not find function "record_ggplot"</span></span></code></pre></div>
<p>The output of this function is the same as for <code><a href="reference/record.html">record()</a></code>:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pick.html">pick</a></span><span class="op">(</span><span class="va">r_plot_1</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `pick()`:</span></span>
<span><span class="co">#&gt; ! Must only be used inside data-masking verbs like `mutate()`, `filter()`, and</span></span>
<span><span class="co">#&gt;   `group_by()`.</span></span></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">r_plot_1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'r_plot_1' not found</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="thanks">Thanks<a class="anchor" aria-label="anchor" href="#thanks"></a>
</h2>
<p>I’d like to thank <a href="https://github.com/armcn" class="external-link">armcn</a>, <a href="https://github.com/Kupac" class="external-link">Kupac</a> for their blog posts (<a href="https://kupac.gitlab.io/biofunctor/2019/05/25/maybe-monad-in-r/" class="external-link">here</a>) and packages (<a href="https://armcn.github.io/maybe/" class="external-link">maybe</a>) which inspired me to build this package. Thank you as well to <a href="https://community.rstudio.com/t/help-with-writing-a-custom-pipe-and-environments/133447/2?u=brodriguesco" class="external-link">TimTeaFan</a> for his help with writing the <code>%&gt;=%</code> infix operator, <a href="https://community.rstudio.com/t/best-way-to-catch-rlang-errors-consistently/131632/5?u=brodriguesco" class="external-link">nigrahamuk</a> for showing me a nice way to catch errors, and finally <a href="https://community.rstudio.com/t/how-to-do-call-a-dplyr-function/131396/2?u=brodriguesco" class="external-link">Mwavu</a> for pointing me towards the right direction with an issue I’ve had as I started working on this package. Thanks to <a href="https://twitter.com/putosaure" class="external-link">Putosaure</a> for designing the hex logo.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=chronicler" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing chronicler</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bruno Rodrigues <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-3211-3689" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/b-rodrigues/chronicler/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/b-rodrigues/chronicler/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/b-rodrigues/chronicler?branch=master" class="external-link"><img src="https://codecov.io/gh/b-rodrigues/chronicler/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
