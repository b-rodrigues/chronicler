<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Recording ggplot Objects with chronicler • chronicler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Recording ggplot Objects with chronicler">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">chronicler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a-non-mathematician-s-introduction-to-monads.html">A non-mathematician's introduction to monads</a></li>
    <li><a class="dropdown-item" href="../articles/a-real-world-example.html">A real world example</a></li>
    <li><a class="dropdown-item" href="../articles/recording-ggplot.html">Recording ggplot Objects with chronicler</a></li>
    <li><a class="dropdown-item" href="../articles/the-maybe-monad.html">The Maybe monad</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Recording ggplot Objects with chronicler</h1>
            
      

      <div class="d-none name"><code>recording-ggplot.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>{chronicler}</code> allows you to “record” ggplot objects so
you can trace their creation, and debug plots without immediately
rendering them. In case of an error, an “error plot” gets shown instead,
which can be useful when rendering documents. This way, plots that fail
don’t stop the whole rendering process. Unlike typical functions,
ggplots are lazily evaluated, so capturing their construction requires
special handling.</p>
<p>This vignette demonstrates how to record and inspect ggplot objects
using <code><a href="../reference/record_ggplot.html">record_ggplot()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="basic-recording">Basic Recording<a class="anchor" aria-label="anchor" href="#basic-recording"></a>
</h2>
<p>Create a simple plot and record it:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/record_ggplot.html">record_ggplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre></div>
<p>The object <code>r_plot</code> is now a <strong>chronicle</strong>.
You can access the actual ggplot object using <code><a href="../reference/unveil.html">unveil()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/unveil.html">unveil</a></span><span class="op">(</span><span class="va">r_plot</span>, <span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre></div>
<p><img src="recording-ggplot_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>And inspect the log to see what happened during construction:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">r_plot</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                                          </span></span>
<span><span class="co">#&gt; [2] "OK! ggplot(mtcars, aes(x = mpg, y = hp)) + geom_point() + geom_smooth(method = \"lm\")() ran successfully at 2025-08-14 14:36:04.355479"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.770904064178467"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="why-record-ggplots">Why record ggplots<a class="anchor" aria-label="anchor" href="#why-record-ggplots"></a>
</h2>
<p>The main benefit is to capture errors and return an “error” plot,
which is a simple plot that shows the error message that was logged
during the build process. This is especially useful when working on a
document, because this way, if the plot fails, rendering can continue.
This allows you to preview documents and fix plots later.</p>
</div>
<div class="section level2">
<h2 id="handling-errors-and-warnings">Handling Errors and Warnings<a class="anchor" aria-label="anchor" href="#handling-errors-and-warnings"></a>
</h2>
<p>Typos in aesthetic mappings or layer definitions will be captured in
the log rather than stopping execution:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_bad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/record_ggplot.html">record_ggplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hpp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># typo: 'hpp'</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">r_bad</span></span>
<span><span class="co">#&gt; NOK! Value computed unsuccessfully:</span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; Just</span></span></code></pre></div>
<p><img src="recording-ggplot_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---------------</span></span>
<span><span class="co">#&gt; This is an object of type `chronicle`.</span></span>
<span><span class="co">#&gt; Retrieve the value of this object with unveil(.c, "value").</span></span>
<span><span class="co">#&gt; To read the log of this object, call read_log(.c).</span></span>
<span><span class="fu"><a href="../reference/read_log.html">read_log</a></span><span class="op">(</span><span class="va">r_bad</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Complete log:"                                                                                                                                                </span></span>
<span><span class="co">#&gt; [2] "NOK! ggplot(mtcars, aes(x = mpg, y = hpp)) + geom_point()() ran unsuccessfully with following exception: object 'hpp' not found at 2025-08-14 14:36:05.534294"</span></span>
<span><span class="co">#&gt; [3] "Total running time: 0.0310990810394287"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="tips">Tips<a class="anchor" aria-label="anchor" href="#tips"></a>
</h2>
<ul>
<li>Use <code>unveil(..., "value")</code> to extract the ggplot object
for rendering.</li>
<li>Use <code><a href="../reference/read_log.html">read_log()</a></code> to review warnings, errors, and messages
during plot construction.</li>
<li>Stepwise recording is useful in complex plotting pipelines or when
experimenting interactively.</li>
</ul>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p><code><a href="../reference/record_ggplot.html">record_ggplot()</a></code> provides a safe, traceable way to build
ggplot objects, making complex plots easier to debug and understand. By
integrating ggplot recording with <code>{chronicler}</code>’s logging
and chaining capabilities, you can maintain reproducible, debuggable
plotting workflows.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
